
<!--
https://covid.ourworldindata.org/data/owid-covid-data.csv
https://github.com/owid/covid-19-data/tree/master/public/data
-->

<!--https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.csv-->

<!DOCTYPE html>
<html>
  <meta charset="utf-8" />
  <body>
        <label>Continents :</label>
        <select id="continent_select" onchange = "selectContent(event)">Select </select>
        
        <script src='https://d3js.org/d3.v7.min.js'></script>
        <script>
            var unique_continents= new Array();
            console.log("before loading csvData");
            // ['Asia', '', 'Europe', 'Africa', 'North America', 'South America', 'Oceania']
            const csvfile = 'https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/owid-covid-data.csv';
                d3.csv(csvfile).then(function(data) {
                console.log("loaded csvData");
                var continents=  d3.map(data, function(d){return d.continent;});
                unique_continents= continents.filter((item, i, ar) => ar.indexOf(item) === i);
                setSelectContinents();
                console.log("unique ::",unique_continents);
                    
                var reproduction_rate=  d3.map(data, function(d){return d.reproduction_rate;});
                console.log("unique ::",reproduction_rate.length);
    
            });
          
            function setSelectContinents(){
                let continent_select = document.getElementById('continent_select');
                unique_continents.forEach(option =>{
                    if(option){
                        continent_select.options.add(new Option(option, option, option.selected));
                    }
                });
                
                // continent_select.onchange = (e)=>{
                //     console.log(e);
                // }
                
                
            }
            function selectContent(event){
                console.log("selectContinent",event,event.target.value);
            }
        </script>
  </body>
</html>



